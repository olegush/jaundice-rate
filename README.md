# Фильтр желтушных новостей

Скрипт скачивает страницы по предоставленному списку URL, парсит их и анализирует текст на предмет "желтушности", основываясь на списках экспрессивных слов (как позитивной, так и негативной окраски).

Скачивание и обработка статей реализована [асинхронно](https://docs.aiohttp.org/en/stable/index.html), парсинг страниц выполняет [beautifulsoup4](https://pypi.org/project/beautifulsoup4/), за морфологичский анализ текста отвечает [pymorphy2](https://pymorphy2.readthedocs.io/en/latest/). Обрабатываются следующие ошибки: неверный адрес статьи, неверный адрес сайта, слишком долгий ответ сайта, слишком долгий анализ статьи, слишком много адресов для анализа.

На данный момент поддерживается только один новостной сайт - [ИНОСМИ.РУ](https://inosmi.ru/), для которого разработан специальный адаптер, умеющий выделять текст статьи на фоне остальной HTML разметки. Для других новостных сайтов потребуются новые адаптеры, их можно сложить в каталог `adapters`.


# Как установить

Вам понадобится Python версии 3.7 или выше. Для установки пакетов рекомендуется создать виртуальное окружение, например с помощью библиотеки **virtualenv**:

```python3
virtualenv virtualenv_folder_name
source virtualenv_folder_name/bin/activate
pip install -r requirements.txt
```


# Как запустить

Запустите сервер:

```python3
python server.py
```

Откройте в браузере страницу http://127.0.0.1:8000/


# Как тестировать

Для тестирования используется [pytest](https://docs.pytest.org/en/latest/), тестами покрыты фрагменты кода сложные в отладке: **text_tools.py**, адаптеры основная рабочая корутина **process_article**. Команды для запуска тестов:

```python3
python -m pytest adapters/inosmi_ru.py
```

```python3
python -m pytest text_tools.py
```

```python3
python -m pytest server.py
```


# Цели проекта

Код написан в учебных целях. Это урок из курса по веб-разработке — [Девман](https://dvmn.org).
